<html>

<header>

 <meta name="viewport" content="width=device-width, initial-scale=1">

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />

<meta http-equiv="content-language" content="zh-CN" />

<link href="https://cdn.bootcss.com/jquery-jsonview/1.2.3/jquery.jsonview.min.css" rel="stylesheet">

<link href="https://cdn.bootcss.com/github-markdown-css/3.0.1/github-markdown.css" rel="stylesheet">

<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>

<style>
                                .markdown-body {
                                    box-sizing: border-box;
                                    min-width: 200px;
                                    max-width: 980px;
                                    margin: 0 auto;
                                    padding: 45px;
                                }
                            
                                @media (max-width: 767px) {
                                    .markdown-body {
                                        padding: 15px;
                                    }
                                }

</style>

</header>

<body class='markdown-body'>

<h1>API Markdown 文档，源于<a href="https://github.com/china-wangyu/TRR">TRR</a>的美好生活💑。</h1>

<h2><code>TOC</code>目录</h2>

<ul>

<li><p><a href="#app\api\controller\cms\Admin:管理类">app\api\controller\cms\Admin:管理类</a></p><ul><p><a href="#getAdminUsers:查询所有用户">getAdminUsers:查询所有用户</a></p><p><a href="#changeUserPassword:修改用户密码">changeUserPassword:修改用户密码</a></p><p><a href="#deleteUser:删除用户">deleteUser:删除用户</a></p><p><a href="#updateUser:管理员更新用户信息">updateUser:管理员更新用户信息</a></p><p><a href="#getGroupAll:查询所有权限组">getGroupAll:查询所有权限组</a></p><p><a href="#getGroup:查询一个权限组及其权限">getGroup:查询一个权限组及其权限</a></p><p><a href="#deleteGroup:删除一个权限组">deleteGroup:删除一个权限组</a></p><p><a href="#createGroup:新建权限组">createGroup:新建权限组</a></p><p><a href="#updateGroup:更新一个权限组">updateGroup:更新一个权限组</a></p><p><a href="#authority:查询所有可分配的权限">authority:查询所有可分配的权限</a></p><p><a href="#removeAuths:删除多个权限">removeAuths:删除多个权限</a></p><p><a href="#dispatchAuths:分配多个权限">dispatchAuths:分配多个权限</a></p></ul></li><li><p><a href="#app\api\controller\cms\File:">app\api\controller\cms\File:</a></p><ul><p><a href="#postFile:上传文件">postFile:上传文件</a></p></ul></li><li><p><a href="#app\api\controller\cms\Log:日志管理类">app\api\controller\cms\Log:日志管理类</a></p><ul><p><a href="#getLogs:查询所有日志">getLogs:查询所有日志</a></p><p><a href="#getUserLogs:搜索日志">getUserLogs:搜索日志</a></p><p><a href="#getUsers:查询日志记录的用户">getUsers:查询日志记录的用户</a></p></ul></li><li><p><a href="#app\api\controller\cms\User:管理用户类">app\api\controller\cms\User:管理用户类</a></p><ul><p><a href="#login:账户登陆">login:账户登陆</a></p><p><a href="#getAllowedApis:查询自己拥有的权限">getAllowedApis:查询自己拥有的权限</a></p><p><a href="#register:创建用户">register:创建用户</a></p><p><a href="#getInformation:获取信息">getInformation:获取信息</a></p><p><a href="#setAvatar:设置头像">setAvatar:设置头像</a></p><p><a href="#refresh:刷新token">refresh:刷新token</a></p></ul></li><li><p><a href="#app\api\controller\v1\Book:图书类">app\api\controller\v1\Book:图书类</a></p><ul><p><a href="#getBook:查询指定bid的图书">getBook:查询指定bid的图书</a></p><p><a href="#getBooks:查询所有图书">getBooks:查询所有图书</a></p><p><a href="#search:">search:</a></p><p><a href="#create:新建图书">create:新建图书</a></p><p><a href="#update:更新图书">update:更新图书</a></p><p><a href="#delete:删除图书">delete:删除图书</a></p></ul></li></ul>

<h2><code>API</code>内容</h2>

<h3><span id="app\api\controller\cms\Admin:管理类">app\api\controller\cms\Admin:管理类</span></h3>

<h4><span id="getAdminUsers:查询所有用户">getAdminUsers:查询所有用户</span></h4>

<ul><li><p>[url] : <code>cms/admin/users</code></p></li><li><p>[method] : <code>get</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody><tr>
                        <td style="text-align: center;">group_id</td>
                        <td style="text-align: center;">分组id</td>
                        <td style="text-align: center;"></td>
                        <td style="text-align: center;"></td>
                    </tr></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

</ul>

<h4><span id="changeUserPassword:修改用户密码">changeUserPassword:修改用户密码</span></h4>

<ul><li><p>[url] : <code>cms/admin/password</code></p></li><li><p>[method] : <code>put</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody><tr>
                        <td style="text-align: center;">new_password</td>
                        <td style="text-align: center;">用户密码</td>
                        <td style="text-align: center;">require|alphaDash|length:3,16</td>
                        <td style="text-align: center;"></td>
                    </tr><tr>
                        <td style="text-align: center;">uid</td>
                        <td style="text-align: center;">用户id</td>
                        <td style="text-align: center;">require|>:0</td>
                        <td style="text-align: center;"></td>
                    </tr></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5">{"error_code":0,"result":"","msg":"\u5bc6\u7801\u4fee\u6539\u6210\u529f"}</code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5">{"code":400,"message":"3000: \u9519\u8bef\u5185\u5bb9 . Undefined index: new_password","request_url":"cms\/admin\/password\/2"}</code></pre>

</ul>

<h4><span id="deleteUser:删除用户">deleteUser:删除用户</span></h4>

<ul><li><p>[url] : <code>cms/admin/:uid</code></p></li><li><p>[method] : <code>delete</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody><tr>
                        <td style="text-align: center;">uid</td>
                        <td style="text-align: center;">用户uid</td>
                        <td style="text-align: center;">require|integer|between:2,10000000000</td>
                        <td style="text-align: center;"></td>
                    </tr></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5">{"error_code":0,"result":"","msg":"\u64cd\u4f5c\u6210\u529f"}</code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5">{"code":400,"message":"3000: \u9519\u8bef\u5185\u5bb9 . 1000: \u9519\u8bef\u5185\u5bb9 . \u8d26\u6237\u4e0d\u5b58\u5728","request_url":"cms\/admin\/3"}</code></pre>

</ul>

<h4><span id="updateUser:管理员更新用户信息">updateUser:管理员更新用户信息</span></h4>

<ul><li><p>[url] : <code>cms/admin/</code></p></li><li><p>[method] : <code>put</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody><tr>
                        <td style="text-align: center;">email</td>
                        <td style="text-align: center;">用户email</td>
                        <td style="text-align: center;">require|email</td>
                        <td style="text-align: center;"></td>
                    </tr><tr>
                        <td style="text-align: center;">uid</td>
                        <td style="text-align: center;">用户id</td>
                        <td style="text-align: center;">require|integer|between:1,10000000000</td>
                        <td style="text-align: center;"></td>
                    </tr></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5">{"error_code":0,"result":"","msg":"\u64cd\u4f5c\u6210\u529f"}</code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5">{"code":400,"message":"3000: \u9519\u8bef\u5185\u5bb9 . \u53c2\u6570\u9a8c\u8bc1 . \u7528\u6237email\u4e0d\u80fd\u4e3a\u7a7a","request_url":"cms\/admin\/4"}</code></pre>

</ul>

<h4><span id="getGroupAll:查询所有权限组">getGroupAll:查询所有权限组</span></h4>

<ul><li><p>[url] : <code>cms/admin/group/all</code></p></li><li><p>[method] : <code>get</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5">[]</code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5">[]</code></pre>

</ul>

<h4><span id="getGroup:查询一个权限组及其权限">getGroup:查询一个权限组及其权限</span></h4>

<ul><li><p>[url] : <code>cms/admin/group</code></p></li><li><p>[method] : <code>get</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody><tr>
                        <td style="text-align: center;">id</td>
                        <td style="text-align: center;">分组id</td>
                        <td style="text-align: center;">require|integer|between:0,10000000000</td>
                        <td style="text-align: center;"></td>
                    </tr></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5">{"id":2,"name":"34234","info":"ewgrbesxa","auths":[{"\u65e5\u5fd7":[{"auth":"\u67e5\u8be2\u6240\u6709\u65e5\u5fd7","module":"\u65e5\u5fd7"},{"auth":"\u641c\u7d22\u65e5\u5fd7","module":"\u65e5\u5fd7"},{"auth":"\u67e5\u8be2\u65e5\u5fd7\u8bb0\u5f55\u7684\u7528\u6237","module":"\u65e5\u5fd7"}]}]}</code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5">{"code":400,"message":"3000: \u9519\u8bef\u5185\u5bb9 . 1000: \u9519\u8bef\u5185\u5bb9 . \u6307\u5b9a\u7684\u5206\u7ec4\u4e0d\u5b58\u5728","request_url":"cms\/admin\/group\/1"}</code></pre>

</ul>

<h4><span id="deleteGroup:删除一个权限组">deleteGroup:删除一个权限组</span></h4>

<ul><li><p>[url] : <code>cms/admin/group</code></p></li><li><p>[method] : <code>delete</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody><tr>
                        <td style="text-align: center;">id</td>
                        <td style="text-align: center;">分组id</td>
                        <td style="text-align: center;">require|integer|between:0,10000000000</td>
                        <td style="text-align: center;"></td>
                    </tr></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5">{"error_code":0,"result":"","msg":"\u5220\u9664\u5206\u7ec4\u6210\u529f"}</code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5">{"code":400,"message":"3000: \u9519\u8bef\u5185\u5bb9 . 1000: \u9519\u8bef\u5185\u5bb9 . \u5206\u7ec4\u4e0b\u5b58\u5728\u7528\u6237\uff0c\u5220\u9664\u5206\u7ec4\u5931\u8d25","request_url":"cms\/admin\/group\/1"}</code></pre>

</ul>

<h4><span id="createGroup:新建权限组">createGroup:新建权限组</span></h4>

<ul><li><p>[url] : <code>cms/admin/group</code></p></li><li><p>[method] : <code>post</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5">{"error_code":0,"result":"","msg":"\u6210\u529f"}</code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5">{"code":400,"message":"3000: \u9519\u8bef\u5185\u5bb9 . 1000: \u9519\u8bef\u5185\u5bb9 . \u5206\u7ec4\u5df2\u5b58\u5728","request_url":"cms\/admin\/group"}</code></pre>

</ul>

<h4><span id="updateGroup:更新一个权限组">updateGroup:更新一个权限组</span></h4>

<ul><li><p>[url] : <code>cms/admin/group</code></p></li><li><p>[method] : <code>put</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody><tr>
                        <td style="text-align: center;">id</td>
                        <td style="text-align: center;">分组id</td>
                        <td style="text-align: center;">require|integer|between:0,10000000000</td>
                        <td style="text-align: center;"></td>
                    </tr></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5">{"error_code":0,"result":"","msg":"\u66f4\u65b0\u5206\u7ec4\u6210\u529f"}</code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

</ul>

<h4><span id="authority:查询所有可分配的权限">authority:查询所有可分配的权限</span></h4>

<ul><li><p>[url] : <code>cms/admin/authority</code></p></li><li><p>[method] : <code>get</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5">null</code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

</ul>

<h4><span id="removeAuths:删除多个权限">removeAuths:删除多个权限</span></h4>

<ul><li><p>[url] : <code>cms/admin/remove</code></p></li><li><p>[method] : <code>post</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody><tr>
                        <td style="text-align: center;">auths</td>
                        <td style="text-align: center;">权限</td>
                        <td style="text-align: center;">require</td>
                        <td style="text-align: center;"></td>
                    </tr><tr>
                        <td style="text-align: center;">group_id</td>
                        <td style="text-align: center;">分组id</td>
                        <td style="text-align: center;">require|integer|between:0,10000000000</td>
                        <td style="text-align: center;"></td>
                    </tr></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5">{"error_code":0,"result":"","msg":"\u5220\u9664\u6743\u9650\u6210\u529f"}</code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5">{"code":1001,"message":"\u53c2\u6570\u9a8c\u8bc1 . \u6743\u9650\u4e0d\u80fd\u4e3a\u7a7a","request_url":"cms\/admin\/remove"}</code></pre>

</ul>

<h4><span id="dispatchAuths:分配多个权限">dispatchAuths:分配多个权限</span></h4>

<ul><li><p>[url] : <code>cms/admin//dispatch/patch</code></p></li><li><p>[method] : <code>post</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody><tr>
                        <td style="text-align: center;">auths</td>
                        <td style="text-align: center;">权限</td>
                        <td style="text-align: center;">require</td>
                        <td style="text-align: center;"></td>
                    </tr><tr>
                        <td style="text-align: center;">group_id</td>
                        <td style="text-align: center;">分组id</td>
                        <td style="text-align: center;">require|integer|between:0,10000000000</td>
                        <td style="text-align: center;"></td>
                    </tr></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5">{"error_code":0,"result":"","msg":"\u6dfb\u52a0\u6743\u9650\u6210\u529f"}</code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5">{"code":10000,"message":"\u8bf7\u6c42\u672a\u643a\u5e26authorization\u4fe1\u606f","request_url":"cms\/admin\/dispatch\/patch"}</code></pre>

</ul>

<h3><span id="app\api\controller\cms\File:">app\api\controller\cms\File:</span></h3>

<h4><span id="postFile:上传文件">postFile:上传文件</span></h4>

<ul><li><p>[url] : <code>cms/file//</code></p></li><li><p>[method] : <code>post</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5">[{"id":1,"key":"image","path":"20190807\/54507f925243065a7f749db51bdde3ad.png","url":"http:\/\/127.0.0.1:8000\/uploads\/20190807\/54507f925243065a7f749db51bdde3ad.png"},{"id":"2","key":"thumb","path":"20190807\/db2f03a477be1c28e530c4b3a39b1bdc.png","url":"http:\/\/127.0.0.1:8000\/uploads\/20190807\/db2f03a477be1c28e530c4b3a39b1bdc.png"}]</code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5">{"code":60000,"message":"","request_url":"cms\/file\/"}</code></pre>

</ul>

<h3><span id="app\api\controller\cms\Log:日志管理类">app\api\controller\cms\Log:日志管理类</span></h3>

<h4><span id="getLogs:查询所有日志">getLogs:查询所有日志</span></h4>

<ul><li><p>[url] : <code>log/</code></p></li><li><p>[method] : <code>get</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

</ul>

<h4><span id="getUserLogs:搜索日志">getUserLogs:搜索日志</span></h4>

<ul><li><p>[url] : <code>log/search</code></p></li><li><p>[method] : <code>get</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody><tr>
                        <td style="text-align: center;">user_name</td>
                        <td style="text-align: center;">用户🐱</td>
                        <td style="text-align: center;"></td>
                        <td style="text-align: center;"></td>
                    </tr></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

</ul>

<h4><span id="getUsers:查询日志记录的用户">getUsers:查询日志记录的用户</span></h4>

<ul><li><p>[url] : <code>log/users</code></p></li><li><p>[method] : <code>get</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

</ul>

<h3><span id="app\api\controller\cms\User:管理用户类">app\api\controller\cms\User:管理用户类</span></h3>

<h4><span id="login:账户登陆">login:账户登陆</span></h4>

<ul><li><p>[url] : <code>cms/user/login</code></p></li><li><p>[method] : <code>post</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5">{"access_token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJsaW4tY21zLXRwNSIsImlhdCI6MTU2NDk5MzkxMywiZXhwIjoxNTY1MDAxMTEzLCJ1c2VyIjp7ImlkIjoxLCJuaWNrbmFtZSI6InN1cGVyIiwiZW1haWwiOiIxMjM0NTZAcXEuY29tIiwiYWRtaW4iOjIsImFjdGl2ZSI6MSwiZ3JvdXBfaWQiOm51bGwsImNyZWF0ZV90aW1lIjoiMjAxOS0wOC0wNSAxNTo0NDo1NiIsImF2YXRhciI6bnVsbH19.XmDFaT-kKhI_sYHmhN2qtZYUoc4RrNMUZDm5zMQtIb0","refresh_token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJsaW4tY21zLXRwNSIsImlhdCI6MTU2NDk5MzkxMywidXNlciI6eyJpZCI6MSwibmlja25hbWUiOiJzdXBlciIsImVtYWlsIjoiMTIzNDU2QHFxLmNvbSIsImFkbWluIjoyLCJhY3RpdmUiOjEsImdyb3VwX2lkIjpudWxsLCJjcmVhdGVfdGltZSI6IjIwMTktMDgtMDUgMTU6NDQ6NTYiLCJhdmF0YXIiOm51bGx9fQ.otFzRXoaSWqlbIhGiQ1vgOoOb6H309P4V3rjLAa-QiQ"}</code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5">{"code":400,"message":"3000: \u9519\u8bef\u5185\u5bb9 . \u53c2\u6570\u9a8c\u8bc1 . \u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a,\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a","request_url":"cms\/user\/login"}</code></pre>

</ul>

<h4><span id="getAllowedApis:查询自己拥有的权限">getAllowedApis:查询自己拥有的权限</span></h4>

<ul><li><p>[url] : <code>cms/user/auths</code></p></li><li><p>[method] : <code>get</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5">{"code":400,"message":"3000: \u9519\u8bef\u5185\u5bb9 . 1000: \u9519\u8bef\u5185\u5bb9 . \u8bf7\u6c42\u672a\u643a\u5e26authorization\u4fe1\u606f","request_url":"cms\/user\/auths"}</code></pre>

</ul>

<h4><span id="register:创建用户">register:创建用户</span></h4>

<ul><li><p>[url] : <code>cms/user/register</code></p></li><li><p>[method] : <code>post</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5">{"error_code":0,"result":"","msg":"\u7528\u6237\u521b\u5efa\u6210\u529f"}</code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5">{"code":400,"message":"3000: \u9519\u8bef\u5185\u5bb9 . 1000: \u9519\u8bef\u5185\u5bb9 . \u7528\u6237\u540d\u91cd\u590d\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165","request_url":"cms\/user\/register"}</code></pre>

</ul>

<h4><span id="getInformation:获取信息">getInformation:获取信息</span></h4>

<ul><li><p>[url] : <code>cms/user/information</code></p></li><li><p>[method] : <code>get</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5">{"code":400,"message":"3000: \u9519\u8bef\u5185\u5bb9 . 1000: \u9519\u8bef\u5185\u5bb9 . \u8bf7\u6c42\u672a\u643a\u5e26authorization\u4fe1\u606f","request_url":"cms\/user\/information"}</code></pre>

</ul>

<h4><span id="setAvatar:设置头像">setAvatar:设置头像</span></h4>

<ul><li><p>[url] : <code>cms/user/avatar</code></p></li><li><p>[method] : <code>put</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody><tr>
                        <td style="text-align: center;">url</td>
                        <td style="text-align: center;">头像url</td>
                        <td style="text-align: center;">require|url</td>
                        <td style="text-align: center;"></td>
                    </tr></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5">{"error_code":0,"result":"","msg":"\u66f4\u65b0\u5934\u50cf\u6210\u529f"}</code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5">{"code":400,"message":"3000: \u9519\u8bef\u5185\u5bb9 . 1000: \u9519\u8bef\u5185\u5bb9 . \u8bf7\u6c42\u672a\u643a\u5e26authorization\u4fe1\u606f","request_url":"cms\/user\/avatar"}</code></pre>

</ul>

<h4><span id="refresh:刷新token">refresh:刷新token</span></h4>

<ul><li><p>[url] : <code>cms/user/refresh</code></p></li><li><p>[method] : <code>get</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5">{"access_token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJsaW4tY21zLXRwNSIsImlhdCI6MTU2NDk5NzkyMiwiZXhwIjoxNTY1MDA1MTIyLCJ1c2VyIjp7ImlkIjoxLCJuaWNrbmFtZSI6InN1cGVyIiwiZW1haWwiOiIxMjM0NTZAcXEuY29tIiwiYWRtaW4iOjIsImFjdGl2ZSI6MSwiZ3JvdXBfaWQiOm51bGwsImNyZWF0ZV90aW1lIjoiMjAxOS0wOC0wNSAxNTo0NDo1NiIsImF2YXRhciI6bnVsbH19.VAQLm_0XZzD4N-3nW7346rCeERXBUrRwe4L8CkSC7sM"}</code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5">{"code":400,"message":"3000: \u9519\u8bef\u5185\u5bb9 . token\u5df2\u7ecf\u8fc7\u671f","request_url":"cms\/user\/refresh"}</code></pre>

</ul>

<h3><span id="app\api\controller\v1\Book:图书类">app\api\controller\v1\Book:图书类</span></h3>

<h4><span id="getBook:查询指定bid的图书">getBook:查询指定bid的图书</span></h4>

<ul><li><p>[url] : <code>v1/book/:bid</code></p></li><li><p>[method] : <code>get</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody><tr>
                        <td style="text-align: center;">bid</td>
                        <td style="text-align: center;">bid的图书</td>
                        <td style="text-align: center;">require</td>
                        <td style="text-align: center;"></td>
                    </tr></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

</ul>

<h4><span id="getBooks:查询所有图书">getBooks:查询所有图书</span></h4>

<ul><li><p>[url] : <code>v1/book/</code></p></li><li><p>[method] : <code>get</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

</ul>

<h4><span id="search:">search:</span></h4>

<ul><li><p>[url] : <code>v1/book/</code></p></li><li><p>[method] : <code></code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

</ul>

<h4><span id="create:新建图书">create:新建图书</span></h4>

<ul><li><p>[url] : <code>v1/book/</code></p></li><li><p>[method] : <code>post</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody><tr>
                        <td style="text-align: center;">summary</td>
                        <td style="text-align: center;">简介</td>
                        <td style="text-align: center;">require</td>
                        <td style="text-align: center;"></td>
                    </tr><tr>
                        <td style="text-align: center;">image</td>
                        <td style="text-align: center;">图书img</td>
                        <td style="text-align: center;">require</td>
                        <td style="text-align: center;"></td>
                    </tr><tr>
                        <td style="text-align: center;">author</td>
                        <td style="text-align: center;">图书作者</td>
                        <td style="text-align: center;">require</td>
                        <td style="text-align: center;"></td>
                    </tr><tr>
                        <td style="text-align: center;">title</td>
                        <td style="text-align: center;">图书名称</td>
                        <td style="text-align: center;">require</td>
                        <td style="text-align: center;"></td>
                    </tr></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

</ul>

<h4><span id="update:更新图书">update:更新图书</span></h4>

<ul><li><p>[url] : <code>v1/book/:id</code></p></li><li><p>[method] : <code>put</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody><tr>
                        <td style="text-align: center;">id</td>
                        <td style="text-align: center;">图书id</td>
                        <td style="text-align: center;">require</td>
                        <td style="text-align: center;"></td>
                    </tr></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

</ul>

<h4><span id="delete:删除图书">delete:删除图书</span></h4>

<ul><li><p>[url] : <code>v1/book/:bid</code></p></li><li><p>[method] : <code>delete</code></p></li><li><p>[params] : <code>请求参数文档</code></p><table><thead>
                    <tr>
                        <th style="text-align: center;">参数名称</th>
                        <th style="text-align: center;">参数文档</th>
                        <th style="text-align: center;">参数 <code>filter</code></th>
                        <th style="text-align: center;">参数默认</th>
                    </tr>
                </thead><tbody><tr>
                        <td style="text-align: center;">bid</td>
                        <td style="text-align: center;">图书bid</td>
                        <td style="text-align: center;">require</td>
                        <td style="text-align: center;"></td>
                    </tr></tbody></table></li><p>[success] : <code>成功返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

<p>[error] : <code>失败返回样例</code></p><pre><code id="result" class="language-json5"></code></pre>

</ul>

<h1> 感谢🙏使用<a href="https://github.com/china-wangyu/TRR">TRR</a>，祝你生活美满～</h1>

<script src="https://cdn.bootcss.com/jquery-jsonview/1.2.3/jquery.jsonview.min.js"></script>
            <script>
                //页面加载json格式化
                $(function () {
                    $(".language-json5").each(function (i) {
                        console.log($(this))
                        var json = $(this).html();
                        if (json != '' && json != 'undefined'){
                            $(this).JSONView(json);
                        }
                    })
                });
            </script>

